webpackJsonp([1],{NHnr:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("7+uW"),o={render:function(){var e=this.$createElement,r=this._self._c||e;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},staticRenderFns:[]};var s=t("VU/8")({name:"App"},o,!1,function(e){t("fL50")},null,null).exports,a=t("/ocq"),n=t("//Fk"),l=t.n(n),c={name:"HelloWorld",mounted:function(){var e=this;e.feed=e.createFeed(),TradingView.onready(function(r){e.chart=window.tvWidget=new TradingView.widget({fullscreen:!1,autosize:!0,symbol:e.currency1+":"+e.currency2,container_id:"chart_container",datafeed:e.feed,library_path:"static/custom_scripts/chart_main/",locale:"en",timezone:"Etc/UTC",charts_storage_api_version:"1.1",client_id:"tradingview.com",user_id:"public_user_id",debug:!0,interval:"60",toolbar_bg:"#20334d",allow_symbol_change:!0,time_frames:[{text:"1y",resolution:"1W"},{text:"6m",resolution:"3D"},{text:"3m",resolution:"1D"},{text:"1m",resolution:"1D"},{text:"1w",resolution:"30"},{text:"3d",resolution:"30"},{text:"1d",resolution:"30"},{text:"6h",resolution:"15"},{text:"1h",resolution:"1"}],drawings_access:{type:"black",tools:[{name:"Trend Line",grayed:!0},{name:"Trend Angle",grayed:!0}]},disabled_features:["header_symbol_search","header_interval_dialog_button","show_interval_dialog_on_key_press","symbol_search_hot_key","study_dialog_search_control","display_market_status","header_compare","edit_buttons_in_legend","symbol_info","border_around_the_chart","main_series_scale_menu","star_some_intervals_by_default","datasource_copypaste","right_bar_stays_on_scroll","context_menus","go_to_date","compare_symbol","border_around_the_chart","timezone_menu","remove_library_container_border"],enabled_features:["dont_show_boolean_study_arguments","use_localstorage_for_settings","remove_library_container_border","save_chart_properties_to_local_storage","side_toolbar_in_fullscreen_mode","hide_last_na_study_output","constraint_dialogs_movement"],studies_overrides:{"volume.volume.color.0":"#fe4761","volume.volume.color.1":"#3fcfb4","volume.volume.transparency":75},overrides:{"symbolWatermarkProperties.color":"rgba(0,0,0, 0)","paneProperties.background":"#20334d","paneProperties.vertGridProperties.color":"#344568","paneProperties.horzGridProperties.color":"#344568","paneProperties.crossHairProperties.color":"#58637a","paneProperties.crossHairProperties.style":2,"mainSeriesProperties.style":9,"mainSeriesProperties.showCountdown":!1,"scalesProperties.showSeriesLastValue":!0,"mainSeriesProperties.visible":!1,"mainSeriesProperties.showPriceLine":!1,"mainSeriesProperties.priceLineWidth":1,"mainSeriesProperties.lockScale":!1,"mainSeriesProperties.minTick":"default","mainSeriesProperties.extendedHours":!1,volumePaneSize:"tiny",editorFontsList:["Lato","Arial","Verdana","Courier New","Times New Roman"],"paneProperties.topMargin":5,"paneProperties.bottomMargin":5,"paneProperties.leftAxisProperties.autoScale":!0,"paneProperties.leftAxisProperties.autoScaleDisabled":!1,"paneProperties.leftAxisProperties.percentage":!1,"paneProperties.leftAxisProperties.percentageDisabled":!1,"paneProperties.leftAxisProperties.log":!1,"paneProperties.leftAxisProperties.logDisabled":!1,"paneProperties.leftAxisProperties.alignLabels":!0,"paneProperties.legendProperties.showStudyTitles":!0,"paneProperties.legendProperties.showStudyValues":!0,"paneProperties.legendProperties.showSeriesTitle":!0,"paneProperties.legendProperties.showSeriesOHLC":!0,"scalesProperties.showLeftScale":!1,"scalesProperties.showRightScale":!0,"scalesProperties.backgroundColor":"#20334d","scalesProperties.lineColor":"#46587b","scalesProperties.textColor":"#8f98ad","scalesProperties.scaleSeriesOnly":!1,"mainSeriesProperties.priceAxisProperties.autoScale":!0,"mainSeriesProperties.priceAxisProperties.autoScaleDisabled":!1,"mainSeriesProperties.priceAxisProperties.percentage":!1,"mainSeriesProperties.priceAxisProperties.percentageDisabled":!1,"mainSeriesProperties.priceAxisProperties.log":!1,"mainSeriesProperties.priceAxisProperties.logDisabled":!1,"mainSeriesProperties.candleStyle.upColor":"#3fcfb4","mainSeriesProperties.candleStyle.downColor":"#fe4761","mainSeriesProperties.candleStyle.drawWick":!0,"mainSeriesProperties.candleStyle.drawBorder":!0,"mainSeriesProperties.candleStyle.borderColor":"#3fcfb4","mainSeriesProperties.candleStyle.borderUpColor":"#3fcfb4","mainSeriesProperties.candleStyle.borderDownColor":"#fe4761","mainSeriesProperties.candleStyle.wickColor":"#737375","mainSeriesProperties.candleStyle.wickUpColor":"#3fcfb4","mainSeriesProperties.candleStyle.wickDownColor":"#fe4761","mainSeriesProperties.candleStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.hollowCandleStyle.upColor":"#3fcfb4","mainSeriesProperties.hollowCandleStyle.downColor":"#fe4761","mainSeriesProperties.hollowCandleStyle.drawWick":!0,"mainSeriesProperties.hollowCandleStyle.drawBorder":!0,"mainSeriesProperties.hollowCandleStyle.borderColor":"#3fcfb4","mainSeriesProperties.hollowCandleStyle.borderUpColor":"#3fcfb4","mainSeriesProperties.hollowCandleStyle.borderDownColor":"#fe4761","mainSeriesProperties.hollowCandleStyle.wickColor":"#737375","mainSeriesProperties.hollowCandleStyle.wickUpColor":"#3fcfb4","mainSeriesProperties.hollowCandleStyle.wickDownColor":"#fe4761","mainSeriesProperties.haStyle.upColor":"#3fcfb4","mainSeriesProperties.haStyle.downColor":"#fe4761","mainSeriesProperties.haStyle.drawWick":!0,"mainSeriesProperties.haStyle.drawBorder":!0,"mainSeriesProperties.haStyle.borderColor":"#3fcfb4","mainSeriesProperties.haStyle.borderUpColor":"#3fcfb4","mainSeriesProperties.haStyle.borderDownColor":"#fe4761","mainSeriesProperties.haStyle.wickColor":"#737375","mainSeriesProperties.haStyle.wickUpColor":"#3fcfb4","mainSeriesProperties.haStyle.wickDownColor":"#fe4761","mainSeriesProperties.haStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.upColor":"#3fcfb4","mainSeriesProperties.barStyle.downColor":"#fe4761","mainSeriesProperties.barStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.dontDrawOpen":!1,"mainSeriesProperties.lineStyle.color":"#0cbef3","mainSeriesProperties.lineStyle.linestyle":0,"mainSeriesProperties.lineStyle.linewidth":1,"mainSeriesProperties.lineStyle.priceSource":"close","mainSeriesProperties.areaStyle.color1":"#0cbef3","mainSeriesProperties.areaStyle.color2":"#0098c4","mainSeriesProperties.areaStyle.linecolor":"#0cbef3","mainSeriesProperties.areaStyle.linestyle":0,"mainSeriesProperties.areaStyle.linewidth":1,"mainSeriesProperties.areaStyle.priceSource":"close","mainSeriesProperties.areaStyle.transparency":80},custom_css_url:"chart.css"})})},methods:{getChartData:function(){var e=this;console.log("GET CHART DATA"),_this=this,this.$http.get("/api/getChartData",this.parseToSend({pair:this.currentPair.code})).then(function(r){console.log("GET CHART DATA",r.body),r.body.forEach(function(e){_this.$data.bars.push({close:Number(e.close),open:Number(e.open),high:Number(e.high),low:Number(e.low),volume:Number(e.volume),time:Number(e.time)})}),console.log(_this.$data.bars),e.log("@@@",r.body)},function(r){e.log("err",r)})},changePair:function(){var e=this;this.chart&&this.feed&&(this.feed._fireEvent("pair_change"),this.chart.activeChart().resetData(),this.chart.activeChart().setSymbol(this.currency1+":"+this.currency2,function(){console.log("GOWNO :: proba zmiany",e.currency1,e.currency2)}))},createFeed:function(){var e=this,r={DataPulseUpdater:function(e,r){this._datafeed=e,this._subscribers={},this._requestsPending=0;var t=this;void 0!==r&&r>0&&setInterval(function(){if(!(t._requestsPending>0))for(var e in t._subscribers){var r=t._subscribers[e],i=r.resolution,o=parseInt((new Date).valueOf()/1e3),s=o-t.periodLengthSeconds(i,10);t._requestsPending++,function(r){t._datafeed.getBars(r.symbolInfo,i,s,o,function(i){if(t._requestsPending--,t._subscribers.hasOwnProperty(e)&&0!==i.length){var o=i[i.length-1];if(isNaN(r.lastBarTime)||!(o.time<r.lastBarTime)){var s=r.listeners;if(!isNaN(r.lastBarTime)&&o.time>r.lastBarTime){if(i.length<2)throw new Error("Not enough bars in history for proper pulse update. Need at least 2.");for(var a=i[i.length-2],n=0;n<s.length;++n)s[n](a)}for(r.lastBarTime=o.time,n=0;n<s.length;++n)s[n](o)}}},function(){t._requestsPending--})}(r)}},r)}};return r.DataPulseUpdater.prototype.periodLengthSeconds=function(e,r){return 24*("D"===e?r:"M"===e?31*r:"W"===e?7*r:r*e/1440)*60*60},r.DataPulseUpdater.prototype.subscribeDataListener=function(e,r,t,i){this._datafeed._logMessage("Subscribing "+i),this._subscribers.hasOwnProperty(i)||(this._subscribers[i]={symbolInfo:e,resolution:r,lastBarTime:NaN,listeners:[]}),this._subscribers[i].listeners.push(t)},r.DataPulseUpdater.prototype.unsubscribeDataListener=function(e){this._datafeed._logMessage("Unsubscribing "+e),delete this._subscribers[e]},r.Container=function(e){this._configuration={supports_search:!1,supports_group_request:!1,supported_resolutions:["1","3","5","15","30","60","120","240","360","720","1D","3D","1W","1M"],supports_marks:!0,supports_timescale_marks:!0,exchanges:["myExchange"]},this._barsPulseUpdater=new r.DataPulseUpdater(this,e||1e4),this._enableLogging=!0,this._callbacks={},this._initializationFinished=!0,this._fireEvent("initialized"),this._fireEvent("configuration_ready")},r.Container.prototype._fireEvent=function(e,r){if(this._callbacks.hasOwnProperty(e)){for(var t=this._callbacks[e],i=0;i<t.length;++i)t[i](r);this._callbacks[e]=[]}},r.Container.prototype._logMessage=function(e){if(this._enableLogging){var r=new Date;console.log("CHART LOGS: "+r.toLocaleTimeString()+"."+r.getMilliseconds()+"> "+e)}},r.Container.prototype.on=function(e,r){return this._callbacks.hasOwnProperty(e)||(this._callbacks[e]=[]),this._callbacks[e].push(r),this},r.Container.prototype.onReady=function(e){var r=this;this._configuration?setTimeout(function(){e(r._configuration)},0):this.on("configuration_ready",function(){e(r._configuration)})},r.Container.prototype.resolveSymbol=function(r,t,i){var o=this;this._logMessage("GOWNO :: resolve symbol "+r),l.a.resolve().then(function(){o._logMessage("GOWNO :: onResultReady inject "+e.currency1+":"+e.currency2),t({name:e.currency1+":"+e.currency2,timezone:"Europe/Warsaw",pricescale:e.last_price>1e3?100:1e8,minmov:1,minmov2:0,ticker:e.currency1+":"+e.currency2,description:"",session:"24x7",type:"bitcoin","exchange-traded":"myExchange","exchange-listed":"myExchange",has_intraday:!0,intraday_multipliers:["60"],has_weekly_and_monthly:!1,has_no_volume:!1,regular_session:"24x7"})})},r.Container.prototype.getBars=function(e,r,t,i,o,s){if(t>0&&(t+"").length>10)throw new Error(["Got a JS time instead of Unix one.",t,i]);o([],{noData:!0})},r.Container.prototype.subscribeBars=function(r,t,i,o,s){e.bars.forEach(function(e){i(e)}),this.on("pair_change",function(){s()})},r.Container.prototype.unsubscribeBars=function(e){this._barsPulseUpdater.unsubscribeDataListener(e)},new r.Container},adjustChart:function(){var e=$("#chart_container").find("iframe"),r=(e.contents().find(".header-chart-panel"),e.contents().find(".header-chart-panel-content"));e.contents().find(".date-range-wrapper").appendTo(r)}},watch:{pair:function(e,r){this.currency1=e[0],this.currency2=e[1],this.changePair()}},data:function(){return{currency1:"USD",currency2:"BTC",saved_chart:null,chart:null,feed:null,last_price:1234.2365,bars:[{time:15083136e5,close:42.1,open:41,high:43,low:40.4,volume:12e3},{time:15083172e5,close:43.4,open:42.9,high:44.1,low:42.1,volume:18500},{time:15083208e5,close:44.3,open:43.7,high:44.8,low:42.8,volume:24e3},{time:15083244e5,close:42.8,open:44.5,high:44.5,low:42.3,volume:45e3},{time:15084136e5,close:40.1,open:38,high:40,low:40.4,volume:1e4},{time:15083172e5,close:43.4,open:42.9,high:44.1,low:42.1,volume:18500},{time:15083208e5,close:44.3,open:43.7,high:44.8,low:42.8,volume:24e3},{time:15083244e5,close:42.8,open:44.5,high:44.5,low:42.3,volume:45e3}]}}},p={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,r=this._self._c||e;return r("div",{staticClass:"hello"},[r("div",{staticClass:"f-fill",staticStyle:{height:"800px"},attrs:{id:"chart_container"}})])}]};var u=t("VU/8")(c,p,!1,function(e){t("bjzQ")},"data-v-ac40ab44",null).exports;i.a.use(a.a);var d=new a.a({routes:[{path:"/",name:"HelloWorld",component:u}]});i.a.config.productionTip=!1,new i.a({el:"#app",router:d,components:{App:s},template:"<App/>"})},bjzQ:function(e,r){},fL50:function(e,r){}},["NHnr"]);
//# sourceMappingURL=app.692959a7760a704230ce.js.map